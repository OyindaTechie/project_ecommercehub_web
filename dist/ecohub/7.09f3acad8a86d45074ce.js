(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"723k":function(t,e,b){"use strict";b.r(e),b.d(e,"ProfileModule",function(){return g});var n=b("ofXK"),l=b("fXoL"),a=b("Fj7B");function s(t,e){if(1&t){const t=l.Mb();l.Lb(0,"tr"),l.Lb(1,"th",22),l.bc(2),l.Kb(),l.Lb(3,"td"),l.bc(4),l.Kb(),l.Lb(5,"td"),l.bc(6),l.Kb(),l.Lb(7,"td"),l.bc(8),l.Kb(),l.Lb(9,"td"),l.bc(10),l.Kb(),l.Lb(11,"td",23),l.Lb(12,"small"),l.bc(13),l.Kb(),l.Kb(),l.Lb(14,"td"),l.Lb(15,"button",24),l.Sb("click",function(){l.Xb(t);const b=e.$implicit;return l.Ub(2).return(null==b?null:b.id)}),l.Jb(16,"i",25),l.bc(17," Return this Item"),l.Kb(),l.Kb(),l.Kb()}if(2&t){const t=e.$implicit,b=e.index,n=l.Ub(2);l.yb(2),l.cc(b+1),l.yb(2),l.cc(null==t?null:t.user_id),l.yb(2),l.cc(null==t?null:t.deviceName),l.yb(2),l.dc("\u20a6",n.addcomma(null==t?null:t.price),""),l.yb(2),l.cc(null==t?null:t.soldDate),l.yb(3),l.cc(null!=t&&t.status?"Bought":null==t?null:t.status)}}function i(t,e){if(1&t&&(l.Lb(0,"div",18),l.Lb(1,"table",19),l.Lb(2,"thead"),l.Lb(3,"tr"),l.Lb(4,"th",20),l.bc(5,"#"),l.Kb(),l.Lb(6,"th",20),l.bc(7,"By"),l.Kb(),l.Lb(8,"th",20),l.bc(9,"Name"),l.Kb(),l.Lb(10,"th",20),l.bc(11,"Price"),l.Kb(),l.Lb(12,"th",20),l.bc(13,"Purchase Date"),l.Kb(),l.Lb(14,"th",20),l.bc(15,"status"),l.Kb(),l.Lb(16,"th",20),l.bc(17,"Action"),l.Kb(),l.Kb(),l.Kb(),l.Lb(18,"tbody"),l.ac(19,s,18,6,"tr",21),l.Kb(),l.Kb(),l.Kb()),2&t){const t=l.Ub();l.yb(19),l.Vb("ngForOf",t.boughtItems)}}function o(t,e){1&t&&(l.Lb(0,"div"),l.bc(1," no item bought yet, kindly buy an item "),l.Kb())}function r(t,e){if(1&t&&(l.Lb(0,"tr"),l.Lb(1,"th",22),l.bc(2),l.Kb(),l.Lb(3,"td"),l.bc(4),l.Kb(),l.Lb(5,"td"),l.bc(6),l.Kb(),l.Lb(7,"td"),l.bc(8),l.Kb(),l.Lb(9,"td"),l.bc(10),l.Kb(),l.Lb(11,"td",26),l.Lb(12,"small"),l.bc(13),l.Kb(),l.Kb(),l.Kb()),2&t){const t=e.$implicit,b=e.index,n=l.Ub(2);l.yb(2),l.cc(b+1),l.yb(2),l.cc(null==t?null:t.user_id),l.yb(2),l.cc(null==t?null:t.deviceName),l.yb(2),l.dc("\u20a6",n.addcomma(null==t?null:t.price),""),l.yb(2),l.cc(null==t?null:t.returnDate),l.yb(3),l.cc(null==t?null:t.status)}}function c(t,e){if(1&t&&(l.Lb(0,"div",18),l.Lb(1,"table",19),l.Lb(2,"thead"),l.Lb(3,"tr"),l.Lb(4,"th",20),l.bc(5,"#"),l.Kb(),l.Lb(6,"th",20),l.bc(7,"By"),l.Kb(),l.Lb(8,"th",20),l.bc(9,"Name"),l.Kb(),l.Lb(10,"th",20),l.bc(11,"Price"),l.Kb(),l.Lb(12,"th",20),l.bc(13,"Return Date"),l.Kb(),l.Lb(14,"th",20),l.bc(15,"status"),l.Kb(),l.Kb(),l.Kb(),l.Lb(16,"tbody"),l.ac(17,r,14,6,"tr",21),l.Kb(),l.Kb(),l.Kb()),2&t){const t=l.Ub();l.yb(17),l.Vb("ngForOf",t.returnedItems)}}function u(t,e){1&t&&(l.Lb(0,"div"),l.bc(1," no item retuned yet, kindly buy an item "),l.Kb())}let d=(()=>{class t{constructor(t){this.serviceapi=t,this.user=localStorage.getItem("user")}ngOnInit(){this.alltransactions()}back(){window.location.href="#/buy"}removecomma(t){return t.replace(/[^\d]/g,"")}addcomma(t){return t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")}return(t){this.serviceapi.return(t).then(t=>{console.log(t),this.alltransactions(),this.successmessage("Item returned successfully!"),setTimeout(()=>{window.location.reload()},2e3)})}showchart(){var t=$("#myChart");new Chart(t,{type:"doughnut",data:{labels:["Items Bought ("+this.boughtItems.length+")","Items Returned ("+this.returnedItems.length+")"],datasets:[{label:"Chart of Items Bought / Items Retuned",data:[this.boughtItems.length,this.returnedItems.length],backgroundColor:["rgb(54, 162, 235)","rgb(255, 99, 132)"],hoverOffset:4}]},options:{scales:{y:{beginAtZero:!0}}}})}alltransactions(){this.transactions=null,this.serviceapi.transactions().then(t=>{this.transactions=t,this.boughtItems=this.transactions.transactions_sold,this.returnedItems=this.transactions.transactions_returned,console.log(this.transactions),this.showchart()})}successmessage(t){toastr.success(t)}failuremessage(t){toastr.error(t)}infomessage(t){toastr.info(t)}}return t.\u0275fac=function(e){return new(e||t)(l.Ib(a.a))},t.\u0275cmp=l.Cb({type:t,selectors:[["app-profile"]],decls:27,vars:9,consts:[[1,"header","d-flex","justify-content-between"],["src","assets/ecoimg.svg","width","7%"],["type","button",1,"btn","btn-primary","btn-sm",3,"click"],[1,"bi","bi-arrow-left"],[1,"mb-5","container",2,"margin-top","150px","text-align","center"],[1,"row","col-md-12"],["data-aos","fade-up","data-aos-delay","200","data-aos-duration","1000","data-aos-easing","ease-in-sine",1,"col-md-8","boxone"],["id","pills-tab","role","tablist",1,"nav","nav-pills","mb-3"],["role","presentation",1,"nav-item"],["id","pills-home-tab","data-bs-toggle","pill","data-bs-target","#pills-home","type","button","role","tab","aria-controls","pills-home","aria-selected","true",1,"nav-link","active"],["id","pills-profile-tab","data-bs-toggle","pill","data-bs-target","#pills-profile","type","button","role","tab","aria-controls","pills-profile","aria-selected","false",1,"nav-link"],["id","pills-tabContent",1,"tab-content"],["id","pills-home","role","tabpanel","aria-labelledby","pills-home-tab",1,"tab-pane","fade","show","active"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],["id","pills-profile","role","tabpanel","aria-labelledby","pills-profile-tab",1,"tab-pane","fade"],["data-aos","fade-up","data-aos-delay","500","data-aos-duration","1000","data-aos-easing","ease-in-sine",1,"col-md-4"],["id","myChart","width","400","height","400"],[1,"table-responsive"],[1,"table","table-borderless"],["scope","col"],[4,"ngFor","ngForOf"],["scope","row"],[1,"text-success","fw-bold"],["type","button",1,"btn","btn-warning","rounded-pill","btn-sm",3,"click"],[1,"bi","bi-pencil-square"],[1,"text-danger","fw-bold"]],template:function(t,e){1&t&&(l.Lb(0,"div"),l.Lb(1,"div",0),l.Jb(2,"img",1),l.Lb(3,"div"),l.bc(4),l.Lb(5,"button",2),l.Sb("click",function(){return e.back()}),l.Jb(6,"i",3),l.bc(7," Back To Buy"),l.Kb(),l.Kb(),l.Kb(),l.Lb(8,"div",4),l.Lb(9,"div",5),l.Lb(10,"div",6),l.Lb(11,"ul",7),l.Lb(12,"li",8),l.Lb(13,"button",9),l.bc(14),l.Kb(),l.Kb(),l.Lb(15,"li",8),l.Lb(16,"button",10),l.bc(17),l.Kb(),l.Kb(),l.Kb(),l.Lb(18,"div",11),l.Lb(19,"div",12),l.ac(20,i,20,1,"div",13),l.ac(21,o,2,0,"div",14),l.Kb(),l.Lb(22,"div",15),l.ac(23,c,18,1,"div",13),l.ac(24,u,2,0,"div",14),l.Kb(),l.Kb(),l.Kb(),l.Lb(25,"div",16),l.Jb(26,"canvas",17),l.Kb(),l.Kb(),l.Kb(),l.Kb()),2&t&&(l.yb(4),l.dc(" Welcome ",e.user," "),l.yb(10),l.ec("(",null==e.boughtItems?null:e.boughtItems.length,") ",(null==e.boughtItems?null:e.boughtItems.length)>1?"Items Bought":"Item Bought"," "),l.yb(3),l.ec(" (",null==e.returnedItems?null:e.returnedItems.length,") ",(null==e.returnedItems?null:e.returnedItems.length)>1?"Items Returned":"Item Returned"," "),l.yb(3),l.Vb("ngIf",0!=(null==e.boughtItems?null:e.boughtItems.length)),l.yb(1),l.Vb("ngIf",0==(null==e.boughtItems?null:e.boughtItems.length)),l.yb(2),l.Vb("ngIf",0!=(null==e.returnedItems?null:e.returnedItems.length)),l.yb(1),l.Vb("ngIf",0==(null==e.returnedItems?null:e.returnedItems.length)))},directives:[n.i,n.h],styles:[".boxone[_ngcontent-%COMP%]{background-color:rgba(255,166,0,.034);border:1px solid rgba(0,0,255,.048);border-radius:5px;padding-top:20px}"]}),t})();var h=b("tyNb");const m=[{path:"",component:d}];let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=l.Gb({type:t}),t.\u0275inj=l.Fb({imports:[[n.b,h.a.forChild(m)]]}),t})()}}]);